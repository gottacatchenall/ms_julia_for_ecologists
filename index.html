<!DOCTYPE html>
<html lang="" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Solving the <span class="math inline"><em>n</em></span>-language problem: A ecologist’s guide to learning Julia</title>
    <script src="https://hypothes.is/embed.js" async></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
    integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,400;0,500;1,400;1,500&display=swap');

        :root {
            --citation: #1976D2;
            --structure: hsl(210, 61%, 43%);
            
            --light: #474747;
            --pale: #a5a5a5;
            --grey: #e0e0e0;
            --nav: #fdfdfd;

            --width: 820px;
            --inner-space: 1.2em;
        }

        body {
            font-family: "Roboto", sans-serif;
            margin: 0 0;
            padding: 0 0;
        }

        article > p {
            line-height: 135%;
        }
        article > h1 {
            padding-top: 3em;
        }
        a {
            text-decoration: none;
            color: #000;
            border-bottom: 1px solid var(--structure);
        }
        a:hover {
            font-weight: 500;
        }
        .citation {
            color: var(--citation);
        }
        .container {
            margin: 0em auto;
            max-width: var(--width);
            padding: var(--inner-space);
        }
        header > .container {
            margin-top: 4em;
        }
        code, pre {
            font-family: "Roboto Mono", monospace;
        }
        pre {
            white-space: pre-wrap;
        }
        h1, h2, h3 {
            color: var(--structure);
            font-family: "Roboto Condensed", sans-serif;
            font-weight: 400;
        }
        header {
            font-family: "Roboto Condensed", sans-serif;
            z-index: 5;
            color: black;
            margin-top: 4rem;
        }
        .header--title {
            font-weight: 400;
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        .header--authors > span {
            color: var(--light);
            font-weight: 400;
        }
        main {
            padding-top: 8em !important;
            padding-bottom: 8em !important;
        }
        footer {
            background-color: var(--grey);
            font-weight: 300;
        }
        .abstract {
            color: var(--light);
            margin-bottom: 5em;
        }
        figure {
            max-width: 100%;
            border: 1px solid var(--pale);
            border-radius: 2px;
            margin: 1em 0.5em;
        }
        figure > img {
            max-width: 100%;
            display: block;
            margin: 0em auto;
        }
        figure > figcaption {
            padding: var(--inner-space);
        }
        table {
            width: 100%;
            min-width: 100%;
            border-collapse: collapse;
        }
        table > caption {
            padding: var(--inner-space);
        }
        figcaption, caption {
            color: var(--light);
            font-weight: 300;
        }
        thead {
            color: var(--structure);
        }
        td, th {
            padding: 3px;
        }
        tr {
            border-top: 1px solid var(--structure);
            border-bottom: 1px solid var(--structure);
        }
        tbody > tr:nth-child(even) {background: var(--grey)};
        tbody {
            border-bottom: 1px solid var(--structure);
        }
        #refs {
            font-size: 90%;
            column-count: 2;
        }
        #refs > .csl-entry {
            padding-bottom: 0.2em;
            padding-top: 0.2em;
        }
        .hanging-indent > .csl-entry {
            padding-left: 15px ;
            text-indent: -15px ;
        }    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css"
    integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous" />
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js"
    integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O"
    crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js"
    integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF"
    crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            renderMathInElement(document.body, {
                delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false }
                ]
            });
        });
    </script>
</head>

<body>
    <header>
        <div class="container">
            <div class="header--title">Solving the <span class="math inline"><em>n</em></span>-language problem: A ecologist’s guide to learning Julia</div>
            <div class="header--authors">
                <span class="header--author">
                <a href="https://orcid.org/0000-0002-6506-6487" target="_blank">
                    Michael D. Catchen
                </a>
                <sup class="affilcode">1</sup>
                <sup class="affilcode">2</sup>
                </span><span class="header--author">
                <a href="https://orcid.org/0000-0002-0735-5184" target="_blank">
                    Timothée Poisot
                </a>
                <sup class="affilcode">3</sup>
                <sup class="affilcode">2</sup>
                </span>
            </div>
        </div>
    </header>
    
    <main class="container">
        <section class="abstract">
            Julia is a good language, ecologists should learn it.


            <div class="artifacts">
                <a href="draft.pdf" title="Draft PDF" target="_blank">draft</a>
                <a href="preprint.pdf" title="Preprint PDF" target="_blank">preprint</a>
            </div>
        </section>
        
        <article>
            <h1 id="outline">Outline</h1>
            <ul>
            <li>Why should ecologists learn julia?
            <ul>
            <li>Well, there are the criteria that are directly measureble that make it better than R/Python:
            <ul>
            <li>fast</li>
            <li>native support on GPUs</li>
            </ul></li>
            <li>But there are also criteria that are more subjective, and that take experience and practice using the language to appreciate
            <ul>
            <li>clever use of dispatch patterns</li>
            <li>use of one-lienrs</li>
            <li>using parameterized types well</li>
            </ul></li>
            <li>You will learn how to be a better programmer in <em>any</em> language, because smart use of julia requires understanding some fundemantal concepts in programming that are ‘hidden’ from users in R/python</li>
            <li>The biggest reason <em>not</em> to use julia is that the ecology/evolution package ecosystem in R is larger, and the ML ecosystem in python is more popular. However:
            <ul>
            <li>you can call <em>any</em> R/python function/library using RCall/PyCall in julia</li>
            <li>More packages isn’t necessarily better when they don’t work together</li>
            </ul></li>
            </ul></li>
            </ul>
            <hr />
            <h1 id="abstract">Abstract</h1>
            <hr />
            <h1 id="introduction">Introduction</h1>
            <p>In order to measure, understand, and mitigate the consequences of anthropogenic change on ecosystems the serives they provide, ecologists need a set of computational tools <span class="citation" data-cites="Urban2022CodLif">(Urban <em>et al.</em> 2022)</span>. These tools must be performant, but crucially modular and interfaceable <span class="citation" data-cites="McIntire2022PerRei">(McIntire <em>et al.</em> 2022)</span>.</p>
            <p>Ecological data is often difficult to access and reuse <span class="citation" data-cites="Poisot2019EcoDat Gonzalez2015ActSta">(Gonzalez &amp; Peres-Neto 2015; Poisot <em>et al.</em> 2019)</span>. Many sources of ecological, evolutionary, and environmental data exist, but synthesizing this data into a single product suitable for analysis often remains tedious as data are not in formats that can be easily combined or interfaced. Here we propose that we can solve this problem through standardization <span class="citation" data-cites="Zimmerman2008NewKno">(Zimmerman 2008)</span>—developing a common definition such that data collected in a variety of contexts can be assimilated while minimizing the overhead of data cleaning and wrangling.</p>
            <p>A common representation of ecological data will have three primary benefits: it will <strong>1</strong>) enable new forms of analysis by making it easier to combine data from different sources <span class="citation" data-cites="Heberling2021DatInt">(Heberling <em>et al.</em> 2021)</span>, <strong>2)</strong> enable continuous integration of new data for next-generation biodiversity monitoring <span class="citation" data-cites="Kuhl2020EffBio">(Kühl <em>et al.</em> 2020)</span>, and <strong>3)</strong> aid in open sharing and reproducability of published results <span class="citation" data-cites="Borregaard2016MorRep Zimmerman2008NewKno">(Zimmerman 2008; Borregaard &amp; Hart 2016)</span>. Here, we briefly review approaches to data standardization developed in other fields, in order to determine what makes an open standard succeed in promoting data sharing, and what doesn’t. Based on the properties of good standards we identify, we propose building a living standard for ecological data in the <code>Julia</code> programming language, and argue this is necessary to obtain the three primary benefits of standardization mentioned earlier.</p>
            <p>The so-called “two-language problem” in computational science, where it is easier for a researcher to developer a prototype of a model/simulation in a high-level language, like Python or R, and later have to port the model to a lower-level compiled language because the performance of these compiled languages (e.g. C++/Fortran) is orders of magnitude faster than high level interpreted languages. In fact, many of the most popular tools in higher-level languages are actually thin wrappers around a compiled (often C++) base (e.g. tidyverse, keras, numpy, TensorFlow, scikit-learn, pandas, etc.). However, the skills required to use or debug—let alone write—scientific software in these lower level langauges is not often taught.</p>
            <p>We propose that that Julia has certain properties absent in other popular languages for scientific computing that make it particularly suited for the development of a cohesive, modular, and extendible set of tools ideal for the development of a platform for ecological analysis [@].</p>
            <h1 id="the-nature-of-computation-in-julia">The nature of computation in Julia</h1>
            <figure>
            <img src="./figures/multiple_dispatch.png" alt="TODO: caption. Adapted from Karpinski 2019 “The unreasonable effectiveness of multiple dispatch”" /><figcaption aria-hidden="true">TODO: caption. Adapted from Karpinski 2019 “The unreasonable effectiveness of multiple dispatch”</figcaption>
            </figure>
            <h2 id="types">Types</h2>
            <p>Why is this useful for ecologists? Often times in ecology, the same information is represented in different formats. Two packages in R might not agree on what the “correct” format to represent information is.</p>
            <p>At the core of the Julia language is its <em>type system</em>. Type systems can often be alienating to those who learned programming in so-called <em>dynamically</em> typed languages (like R, python, and JavaScript). In dynamically-typed languages, <code>x= 5</code>, and <code>x = "hello world"</code> and the language won’t care that you changed the type of information that was stored in <code>x</code> from a number to a string. Practically, this form of dynamic-typing was adopted because it is far more convenient to write code like that above than defining variables with explicit types, e.g. how you would in C: <code>char c = "a";</code> and <code>int x = 5;</code>.</p>
            <p>Julia doesn’t require explicit type declarations, meaning <code>x = 5</code> is perfectly valid code, but internallyJulia is doing the bookkeeping of what type of information is stored in <code>x</code>, from an <code>Int64</code> to a <code>String</code> in the above example.</p>
            <p>Using explicit types is central to Julia’s speed, but also enables much of its most unique and user-friendly functionality, primarily the use of a <em>multiple-dispatch</em> system.</p>
            <h2 id="dispatch">Dispatch</h2>
            <p><em>Dispatch</em> refers to the way a computer program decides what function to call.</p>
            <p>In many staticly-typed languages, you are allow to use the same function name more than once.</p>
            <h1 id="doing-computational-science-in-julia">Doing computational science in <code>Julia</code></h1>
            <h2 id="managing-data">Managing Data</h2>
            <p>DataFrames.jl and DFMeta.</p>
            <h2 id="doing-statistics-and-machine-learning">Doing statistics and machine learning</h2>
            <ol start="7" type="1">
            <li>Learn about the statistics ecosystem: StatsBase, Statistics, GLM, MLJ, Flux, Turing</li>
            </ol>
            <h2 id="doing-simulation">Doing simulation</h2>
            <ol start="8" type="1">
            <li>Learn about the simulation libraries (DiffEq, DynamicGrids)</li>
            <li>Learn how various statistics/simulation libraries work togethe</li>
            </ol>
            <h1 id="discussion">Discussion</h1>
            <p>Defining a living standard for ecological data in <code>Julia</code> will make it easier to combine data from different sources by splitting the process of data aggregation from the process of analysis. Integrating data from a particular study, or a new database, would be as simple as implementing the interface from the data source to the standardized types. Data from individual studies could be incorporated into public repositories containing both the raw data and the interface to Julia data structures, and this combined data/interface package is all that is needed to either reproduce the results or incorporate that particular study’s data into analysis. This will make combining data from multiple sources easier, and yield benefits for the development and implementation of novel methods, as the software for analysis becomes separate from the software for data cleaning and aggregation.</p>
            <p>We envision a modern set of tools for ecology in <code>Julia</code> based around the standardized types. Far outside of ecology, the term “ecosystem” is used metaphorically to describe a set of software tools that work together. We imagine multiple “trophic-levels” of packages for ecological science in <code>Julia</code> based around the “basal” set of standardized types — a modular set of tools that can be chained together create arbitrarily complex analysis pipelines. that can be scaled to meet the needs of next-generation biodiversity monitoring.</p>
            <div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
            <div id="ref-Borregaard2016MorRep" class="csl-entry" role="doc-biblioentry">
            Borregaard, M.K. &amp; Hart, E.M. (2016). Towards a more reproducible ecology. <em>Ecography</em>, 39, 349–353.
            </div>
            <div id="ref-Gonzalez2015ActSta" class="csl-entry" role="doc-biblioentry">
            Gonzalez, A. &amp; Peres-Neto, P.R. (2015). Act to staunch loss of research data. <em>Nature</em>, 520, 436–436.
            </div>
            <div id="ref-Heberling2021DatInt" class="csl-entry" role="doc-biblioentry">
            Heberling, J.M., Miller, J.T., Noesgaard, D., Weingart, S.B. &amp; Schigel, D. (2021). Data integration enables global biodiversity synthesis. <em>Proceedings of the National Academy of Sciences</em>, 118.
            </div>
            <div id="ref-Kuhl2020EffBio" class="csl-entry" role="doc-biblioentry">
            Kühl, H.S., Bowler, D.E., Bösch, L., Bruelheide, H., Dauber, J., Eichenberg, David., <em>et al.</em> (2020). Effective Biodiversity Monitoring Needs a Culture of Integration. <em>One Earth</em>, 3, 462–474.
            </div>
            <div id="ref-McIntire2022PerRei" class="csl-entry" role="doc-biblioentry">
            McIntire, E.J.B., Chubaty, A.M., Cumming, S.G., Andison, D., Barros, C., Boisvenue, C., <em>et al.</em> (2022). PERFICT: A Re-imagined foundation for predictive ecology. <em>Ecology Letters</em>, 25, 1345–1351.
            </div>
            <div id="ref-Poisot2019EcoDat" class="csl-entry" role="doc-biblioentry">
            Poisot, T., Bruneau, A., Gonzalez, A., Gravel, D. &amp; Peres-Neto, P. (2019). Ecological Data Should Not Be So Hard to Find and Reuse. <em>Trends in Ecology &amp; Evolution</em>, 34, 494–496.
            </div>
            <div id="ref-Urban2022CodLif" class="csl-entry" role="doc-biblioentry">
            Urban, M.C., Travis, J.M.J., Zurell, D., Thompson, P.L., Synes, N.W., Scarpa, A., <em>et al.</em> (2022). Coding for Life: Designing a Platform for Projecting and Protecting Global Biodiversity. <em>BioScience</em>, 72, 91–104.
            </div>
            <div id="ref-Zimmerman2008NewKno" class="csl-entry" role="doc-biblioentry">
            Zimmerman, A.S. (2008). New Knowledge from Old Data: The Role of Standards in the Sharing and Reuse of Ecological Data. <em>Science, Technology, &amp; Human Values</em>, 33, 631–652.
            </div>
            </div>
        </article>
    </main>

    <footer>
        <div class="container">
            <h2>Affiliations</h2> 
            <sup>1</sup>&nbsp;McGill University; <sup>2</sup>&nbsp;Québec Centre for Biodiversity Sciences; <sup>3</sup>&nbsp;Université de Montréal
            <br />
            
        </div>
    </footer>
    
</body>
</html>